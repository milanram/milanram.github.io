import React, { useEffect } from 'react';
import Navbar from '@/components/Navbar';
import Header from '@/components/Header';
import Section from '@/components/Section';
import Footer from '@/components/Footer';

const Index = () => {
  // Intersection Observer for revealing sections as they come into view
  useEffect(() => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('in-view');
            observer.unobserve(entry.target);
          }
        });
      },
      {
        root: null,
        rootMargin: '0px',
        threshold: 0.1,
      }
    );

    document.querySelectorAll('.section-transition').forEach((section) => {
      observer.observe(section);
    });

    return () => {
      document.querySelectorAll('.section-transition').forEach((section) => {
        observer.unobserve(section);
      });
    };
  }, []);

  return (
    <div className="min-h-screen flex flex-col" id="home">
      <Navbar />
      <Header />
      
      <main className="flex-grow">
        <Section id="manifesto" title="Musings and Manifesto">
          <p className="mb-4">
            There is no cookbook as every company has its own unique culture/business model and customers. You need to craft your own way through its product landscape and the need to incorporate unique strategy will destroy most cookbooks on the web.
          </p>
          <p className="mb-4">
            To be a product leader, get comfortable with data-driven decision making and using data when you get it with confidence. Bias towards taking action in most situations and promote high velocity decision making, especially if an issue is a 2-way door (reversible).
          </p>
          <p>
            Be the most comfortable person with ambiguity on the team and set a vision and tenets. Also, don't forget, keep it simple, cut your words in half and cut it again. Focus on an MVP, Minimum Loveable Product or Minimum Sellable Product (b2b) when building a first iteration of product in most cases for sake of efficiency when optimizing from real feedback. The faster companies get their products to market and start the iteration process early, the better the outcomes (usually).
          </p>
        </Section>
        
        <Section title="How to Ideate" className="bg-accent/5">
          <p>
            Talk to customers. Observe customers. Look at customer data and feedback. Walk the store yourself and use the product(s). Look at how other companies solve similar painpoints.
          </p>
        </Section>
        
        <Section title="Backlogs">
          <p>
            You need to have a product backlog and you need to groom it regularly.
          </p>
        </Section>
        
        <Section title="What Financial Skills Do You Need?" className="bg-accent/5">
          <p>
            Know how to read a Profit & Loss Statement and figure out how your company makes money. That will be key to creating product goals, objectives and roadmaps.
          </p>
        </Section>
        
        <Section title="What Data Skills Do You Need?">
          <p>
            Learn SQL and get familiar with pulling your own data from a Data Warehouse. It will empower you and make you less reliant on a business analyst. If you are not able to pull data regularly yourself, you will also probably bias to use less data when making decisions.
          </p>
        </Section>
        
        <Section title="What Technical Skills Do You Need?" className="bg-accent/5">
          <p>
            Learn your stack and systems as well as basic tradeoffs for DB choice and message brokers. Know how APIs work and HTTP methods in RESTful API development. Be able to read and understand logs.
          </p>
        </Section>
        
        <Section title="How to Estimate">
          <div className="space-y-6">
            <p>
              Back of the envelope analysis can be used for quick, rough estimates when detailed data is unavailable. Follow these steps:
            </p>
            
            <ol className="list-decimal ml-6 space-y-4">
              <li>
                <strong className="font-semibold">Define the Problem or Hypothesis</strong>
                <p className="mt-1">
                  Clearly articulate what you're trying to estimate. This could be revenue, user engagement, cost savings, or another metric.
                </p>
                <div className="mt-2 pl-4 border-l-2 border-primary/20 italic">
                  <p>Example: "What would be the impact of launching a new feature that increases user engagement by 10%?"</p>
                </div>
              </li>
              
              <li>
                <strong className="font-semibold">Identify Key Metrics</strong>
                <p className="mt-1">
                  Break down the problem into a few core metrics that drive the outcome. This keeps the calculation simple yet relevant. Common metrics include:
                </p>
                <ul className="list-disc ml-6 mt-2 space-y-1">
                  <li>Number of users or customers</li>
                  <li>Average revenue per user (ARPU)</li>
                  <li>Conversion rates</li>
                  <li>Average user session time or engagement metrics</li>
                  <li>Cost per acquisition (CPA)</li>
                </ul>
              </li>
              
              <li>
                <strong className="font-semibold">Gather Reasonable Assumptions</strong>
                <p className="mt-1">
                  Use available data, industry benchmarks, or previous experience to make reasonable assumptions. The goal is not precision but directionally accurate estimates.
                </p>
              </li>
              
              <li>
                <strong className="font-semibold">Perform Calculations</strong>
                <p className="mt-1">
                  Start with simple multiplication or division to estimate potential impact.
                </p>
              </li>
              
              <li>
                <strong className="font-semibold">Estimate Revenue or Cost Impact</strong>
                <p className="mt-1">
                  If estimating financial impact, convert the changes into revenue or savings.
                </p>
              </li>
              
              <li>
                <strong className="font-semibold">Evaluate and Adjust for Risk Factors</strong>
                <p className="mt-1">
                  Identify any uncertainties in your assumptions and adjust accordingly. Consider best-case, worst-case, and most likely scenarios to provide a range rather than a single figure.
                </p>
              </li>
              
              <li>
                <strong className="font-semibold">Sense Check the Numbers</strong>
                <p className="mt-1">
                  Ensure the calculations make sense relative to the size of the user base, market size, or your company's overall revenue. If the numbers seem too high or too low, revisit the assumptions.
                </p>
              </li>
            </ol>
            
            <div className="mt-6 p-6 rounded-lg bg-primary/5 glass-card">
              <h3 className="text-xl font-semibold mb-4">Example Estimation for a Feature Rollout:</h3>
              <p className="mb-4">
                Suppose you're launching a new feature expected to increase user engagement and revenue. Here's how you might quickly estimate the impact:
              </p>
              <ul className="list-disc ml-6 space-y-1 mb-4">
                <li>Current number of active users = 50,000</li>
                <li>Estimated increase in daily active users due to the feature = 5%</li>
                <li>Current ARPU = $10/month</li>
                <li>New ARPU increase with the feature = 3%</li>
              </ul>
              <p className="font-semibold">Calculations:</p>
              <ul className="list-disc ml-6 space-y-1">
                <li>Increased daily active users = 50,000 * 5% = 2,500 new daily active users</li>
                <li>Incremental revenue = 50,000 users * ($10 * 1.03) - (50,000 users * $10) = $15,000/month increase</li>
              </ul>
            </div>
            
            <div className="mt-4">
              <h3 className="text-xl font-semibold mb-4">Tips for Effective Back-of-the-Envelope Calculations:</h3>
              <ul className="list-disc ml-6 space-y-2">
                <li><strong className="font-semibold">Focus on Orders of Magnitude:</strong> It's more about whether the impact is closer to $1 million or $10 million, not the precise number.</li>
                <li><strong className="font-semibold">Use Ranges for Assumptions:</strong> This helps account for uncertainties (e.g., engagement increase between 5% and 10%).</li>
                <li><strong className="font-semibold">Validate Assumptions with Stakeholders:</strong> If possible, run the assumptions by stakeholders to ensure they are reasonable.</li>
                <li><strong className="font-semibold">Remember the Goal:</strong> Use these calculations to prioritize projects and guide initial discussions. More detailed analysis can follow later.</li>
              </ul>
            </div>
          </div>
        </Section>
        
        <Section title="How to Prioritize" className="bg-accent/5">
          <p>
            Prioritization typically comes down to a function of Impact, Effort and Strategic Override. Focus on maximizing impact and minimizing effort (but don't disregard maintainability and scale). There is the RICE framework for example, but often the strategic override component requires old-fashioned stakeholder discussion to prioritize correctly.
          </p>
        </Section>
        
        <Section title="How to Write a Product Requirements Document (PRD)">
          <p>
            Start with why you are creating a product/feature and decompose the problems being addressed along with tradeoffs considered. Include user stories with acceptance criteria and user flows for designers. Talk to engineers and designers to uncover edge cases and design error flows.
          </p>
        </Section>
        
        <Section title="How to Launch" className="bg-accent/5">
          <p>
            Break into workstreams and create a Go-to-market plan with milestones and Go/No-Go meetings with key stakeholders to ensure readiness. Working backwards from milestone targets, I find weekly synchs with a status wiki helpful to keep stakeholders aligned on launch goals.
          </p>
        </Section>
        
        <Section title="How to Maintain the Best Product">
          <p>
            Iterate by using a test and learn approach (AB Test) and incorporate customer feedback through user testing, especially at a company where you have good data (everything is logged) and B2C products. In smaller startups and B2B landscape, you might need to put more emphasis on customer interviews and user testing as AB Testing might be more difficult to do with regularity.
          </p>
        </Section>
        
        <Section id="readings" title="Suggested Readings" className="bg-accent/5">
          <ul className="space-y-4">
            <li className="flex items-center">
              <span className="inline-block w-2 h-2 rounded-full bg-primary mr-3"></span>
              <a href="https://www.amazon.com/Design-Everyday-Things-Revised-Expanded/dp/0465050654" className="text-primary hover:underline transition-all">
                The Design of Everyday Things by Don Norman
              </a>
            </li>
            <li className="flex items-center">
              <span className="inline-block w-2 h-2 rounded-full bg-primary mr-3"></span>
              <a href="https://scrumguides.org/scrum-guide.html" className="text-primary hover:underline transition-all">
                The Scrum Guide
              </a>
            </li>
            <li className="flex items-center">
              <span className="inline-block w-2 h-2 rounded-full bg-primary mr-3"></span>
              <a href="https://www.amazon.com/Cracking-PM-Interview-Technology-McDowell/dp/B00SLTQENY" className="text-primary hover:underline transition-all">
                Cracking the PM Interview by Gayle Laakmann McDowell
              </a>
            </li>
            <li className="flex items-center">
              <span className="inline-block w-2 h-2 rounded-full bg-primary mr-3"></span>
              <a href="https://www.amazon.com/Subtle-Art-Not-Giving-Counterintuitive-ebook/dp/B019MMUA8S" className="text-primary hover:underline transition-all">
                The Subtle Art of Not Giving a F*ck by Mark Manson
              </a>
            </li>
            <li className="flex items-center">
              <span className="inline-block w-2 h-2 rounded-full bg-primary mr-3"></span>
              <a href="https://www.amazon.co.jp/-/en/Steve-Krug/dp/0321344758" className="text-primary hover:underline transition-all">
                Don't Make Me Think by Steve Krug
              </a>
            </li>
          </ul>
        </Section>
      </main>
      
      <Footer />
    </div>
  );
};

export default Index;
